const slider=document.querySelector(".results__slider"),before=document.querySelector(".results__slider-img--before"),after=document.querySelector(".results__slider-img--after"),control=document.querySelector(".results__slider-control");let isActive=!1;const sliderReset=()=>{isActive=!1,before.style.clipPath="inset(0 50% 0 0)",after.style.clipPath="inset(0 0 0 50%)",control.style.left="50%",before.style.transition="0.3s",after.style.transition="0.3s",control.style.transition="0.3s"},sliderChange=e=>{let t=Math.max(0,Math.min(e,slider.offsetWidth));before.style.clipPath=`inset(0 ${slider.offsetWidth-t}px 0 0)`,after.style.clipPath=`inset(0 0 0 ${t}px)`,control.style.left=`${t}px`},initSliderChange=e=>{e-=slider.getBoundingClientRect().left,sliderChange(e)},onSliderMouseMove=e=>{let t=e.pageX;isActive&&(before.style.transition="none",after.style.transition="none",control.style.transition="none",initSliderChange(t))},onSliderTouchMove=e=>{let t;for(let i=0;i<e.changedTouches.length;i++)t=e.changedTouches[i].pageX;before.style.transition="none",after.style.transition="none",control.style.transition="none",initSliderChange(t)},desktopSlider=()=>{control.addEventListener("mousedown",(()=>isActive=!0)),control.addEventListener("mouseup",(()=>isActive=!1)),control.addEventListener("selectstart",(e=>e.preventDefault())),slider.addEventListener("mouseleave",(()=>sliderReset())),slider.addEventListener("mousemove",(e=>onSliderMouseMove(e)))},mobileSlider=()=>{control.addEventListener("touchstart",(()=>isActive=!0)),control.addEventListener("touchend",(()=>isActive=!1)),slider.addEventListener("touchcancel",(()=>{isActive=!1,sliderReset()})),slider.addEventListener("touchmove",(e=>onSliderTouchMove(e)))},initSlider=()=>{slider&&(control.addEventListener("touchstart",(()=>isActive=!0)),control.addEventListener("touchend",(()=>isActive=!1)),slider.addEventListener("touchcancel",(()=>{isActive=!1,sliderReset()})),slider.addEventListener("touchmove",(e=>onSliderTouchMove(e))),control.addEventListener("mousedown",(()=>isActive=!0)),control.addEventListener("mouseup",(()=>isActive=!1)),control.addEventListener("selectstart",(e=>e.preventDefault())),slider.addEventListener("mouseleave",(()=>sliderReset())),slider.addEventListener("mousemove",(e=>onSliderMouseMove(e))))};export{initSlider};